{"remainingRequest":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\src\\store\\modules\\authData.js","dependencies":[{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\src\\store\\modules\\authData.js","mtime":1602739030517},{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603158750083},{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\babel-loader\\lib\\index.js","mtime":1603158744453}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlL2FwcCI7CmltcG9ydCAiZmlyZWJhc2UvYXV0aCI7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgbG9nZ2VkSW5Vc2VyOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSAhPSBudWxsID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSkgOiBudWxsLAogICAgbG9hZGluZzogZmFsc2UsCiAgICBlcnJvcjogbnVsbAogIH0sCiAgZ2V0dGVyczogewogICAgbG9nZ2VkSW5Vc2VyOiBmdW5jdGlvbiBsb2dnZWRJblVzZXIoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxvZ2dlZEluVXNlcjsKICAgIH0sCiAgICBsb2FkaW5nOiBmdW5jdGlvbiBsb2FkaW5nKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5sb2FkaW5nOwogICAgfSwKICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZXJyb3I7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGUubG9nZ2VkSW5Vc2VyID0gZGF0YTsKICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgICBzdGF0ZS5lcnJvciA9IG51bGw7CiAgICB9LAogICAgc2V0TG9nb3V0OiBmdW5jdGlvbiBzZXRMb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUubG9nZ2VkSW5Vc2VyID0gbnVsbDsKICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgICBzdGF0ZS5lcnJvciA9IG51bGw7IC8vIHRoaXMuJHJvdXRlci5nbygiLyIpOwogICAgfSwKICAgIHNldExvYWRpbmc6IGZ1bmN0aW9uIHNldExvYWRpbmcoc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGUubG9hZGluZyA9IGRhdGE7CiAgICAgIHN0YXRlLmVycm9yID0gbnVsbDsKICAgIH0sCiAgICBzZXRFcnJvcjogZnVuY3Rpb24gc2V0RXJyb3Ioc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGUuZXJyb3IgPSBkYXRhOwogICAgICBzdGF0ZS5sb2dnZWRJblVzZXIgPSBudWxsOwogICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgY2xlYXJFcnJvcjogZnVuY3Rpb24gY2xlYXJFcnJvcihzdGF0ZSkgewogICAgICBzdGF0ZS5lcnJvciA9IG51bGw7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgZGF0YSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIGNvbW1pdCgiY2xlYXJFcnJvciIpOwogICAgICBjb21taXQoInNldExvYWRpbmciLCB0cnVlKTsKICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKGRhdGEuZW1haWwsIGRhdGEucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICB2YXIgbmV3VXNlciA9IHsKICAgICAgICAgIHVpZDogdXNlci51c2VyLnVpZAogICAgICAgIH07CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJJbmZvIiwgSlNPTi5zdHJpbmdpZnkobmV3VXNlcikpOwogICAgICAgIGNvbW1pdCgic2V0VXNlciIsIHsKICAgICAgICAgIHVpZDogdXNlci51c2VyLnVpZAogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKCJ1c2VyIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIC8vIEhhbmRsZSBFcnJvcnMgaGVyZS4KICAgICAgICAvLyB2YXIgZXJyb3JDb2RlID0gZXJyb3IuY29kZTsKICAgICAgICAvLyB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJJbmZvIik7CiAgICAgICAgY29tbWl0KCJzZXRFcnJvciIsIGVycm9yKTsgLy8gLi4uCiAgICAgIH0pOwogICAgfSwKICAgIHNpZ25Vc2VyVXA6IGZ1bmN0aW9uIHNpZ25Vc2VyVXAoX3JlZjIsIGRhdGEpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgY29tbWl0KCJzZXRMb2FkaW5nIiwgdHJ1ZSk7CiAgICAgIGNvbW1pdCgiY2xlYXJFcnJvciIpOwogICAgICBmaXJlYmFzZS5hdXRoKCkuY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKGRhdGEuZW1haWwsIGRhdGEucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICBjb21taXQoInNldExvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgdmFyIG5ld1VzZXIgPSB7CiAgICAgICAgICB1aWQ6IHVzZXIudXNlci51aWQKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUubG9nKG5ld1VzZXIpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VySW5mbyIsIEpTT04uc3RyaW5naWZ5KG5ld1VzZXIpKTsKICAgICAgICBjb21taXQoInNldFVzZXIiLCBuZXdVc2VyKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29tbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOwogICAgICAgIGNvbW1pdCgic2V0RXJyb3IiLCBlcnJvcik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJJbmZvIik7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBzaWduT3V0OiBmdW5jdGlvbiBzaWduT3V0KF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJJbmZvIik7CiAgICAgICAgY29tbWl0KCJzZXRMb2dvdXQiKTsKICAgICAgfSwgZnVuY3Rpb24gKF9lcnJvcikge30pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Users/multicampus/Desktop/SSAFY_third/s03p31a303/frontend/RunWithMe/src/store/modules/authData.js"],"names":["firebase","state","loggedInUser","localStorage","getItem","JSON","parse","loading","error","getters","mutations","setUser","data","setLogout","setLoading","setError","clearError","actions","login","commit","auth","signInWithEmailAndPassword","email","password","then","user","newUser","uid","setItem","stringify","console","log","catch","removeItem","signUserUp","createUserWithEmailAndPassword","signOut","_error"],"mappings":"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","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nexport default {\r\n  state: {\r\n    loggedInUser:\r\n      localStorage.getItem(\"userInfo\") != null\r\n        ? JSON.parse(localStorage.getItem(\"userInfo\"))\r\n        : null,\r\n    loading: false,\r\n    error: null\r\n  },\r\n  getters: {\r\n    loggedInUser: state => state.loggedInUser,\r\n    loading: state => state.loading,\r\n    error: state => state.error\r\n  },\r\n  mutations: {\r\n    setUser(state, data) {\r\n      state.loggedInUser = data;\r\n      state.loading = false;\r\n      state.error = null;\r\n    },\r\n    setLogout(state) {\r\n      state.loggedInUser = null;\r\n      state.loading = false;\r\n      state.error = null;\r\n      // this.$router.go(\"/\");\r\n    },\r\n    setLoading(state, data) {\r\n      state.loading = data;\r\n      state.error = null;\r\n    },\r\n    setError(state, data) {\r\n      state.error = data;\r\n      state.loggedInUser = null;\r\n      state.loading = false;\r\n    },\r\n    clearError(state) {\r\n      state.error = null;\r\n    }\r\n  },\r\n  actions: {\r\n    login({commit}, data) {\r\n      commit(\"clearError\");\r\n      commit(\"setLoading\", true);\r\n      firebase\r\n        .auth()\r\n        .signInWithEmailAndPassword(data.email, data.password)\r\n        .then(user => {\r\n          const newUser = {uid: user.user.uid};\r\n          localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\r\n          commit(\"setUser\", {uid: user.user.uid});\r\n          console.log(\"user\");\r\n        })\r\n        .catch(function(error) {\r\n          // Handle Errors here.\r\n          // var errorCode = error.code;\r\n          // var errorMessage = error.message;\r\n          // console.log(error);\r\n          localStorage.removeItem(\"userInfo\");\r\n          commit(\"setError\", error);\r\n          // ...\r\n        });\r\n    },\r\n\r\n    signUserUp({commit}, data) {\r\n      commit(\"setLoading\", true);\r\n      commit(\"clearError\");\r\n      firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(data.email, data.password)\r\n        .then(user => {\r\n          commit(\"setLoading\", false);\r\n\r\n          const newUser = {\r\n            uid: user.user.uid\r\n          };\r\n          console.log(newUser);\r\n          localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\r\n          commit(\"setUser\", newUser);\r\n        })\r\n        .catch(error => {\r\n          commit(\"setLoading\", false);\r\n          commit(\"setError\", error);\r\n          localStorage.removeItem(\"userInfo\");\r\n          console.log(error);\r\n        });\r\n    },\r\n    signOut({commit}) {\r\n      firebase\r\n        .auth()\r\n        .signOut()\r\n        .then(\r\n          () => {\r\n            localStorage.removeItem(\"userInfo\");\r\n            commit(\"setLogout\");\r\n          },\r\n          _error => {}\r\n        );\r\n    }\r\n  }\r\n};\r\n"]}]}