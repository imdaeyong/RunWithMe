{"remainingRequest":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\src\\views\\app\\runnings\\records.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\src\\views\\app\\runnings\\records.vue","mtime":1602739030532},{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRtYXJrZXJzID0gW107CiAgICB0aGlzLiRtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwgewogICAgICBjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcodGhpcy5sYXRpdHVkZSwgdGhpcy5sb25naXR1ZGUpLAogICAgICB6b29tOiB0aGlzLnpvb20KICAgIH0pOwogICAgdGhpcy5pbml0TWFwKCk7CiAgICBWdWUubmV4dFRpY2soKS50aGVuKCgpPT57CiAgICAgIHRoaXMuY2xlYXJNYXJrZXJzKCk7CiAgICB9KTsKICB9LAogIGNyZWF0ZWQoKXsKICAgIEV2ZW50QnVzLiRvbignY2xlYXItbWFya2VycycsICgpPT57CiAgICAgIHRoaXMuY2xlYXJNYXJrZXJzKCk7CiAgICAgIHRoaXMuJG1hcmtlcnMgPSBbXTsKICAgIH0pOwogICAgRXZlbnRCdXMuJG9uKCdhZGQtbWFya2VyJywgKGRhdGEpPT57CiAgICAgIGxldCBtYXJrZXIgPSB0aGlzLm1ha2VNYXJrZXIoZGF0YS5sYXRpdHVkZSwgZGF0YS5sb25naXR1ZGUpOwogICAgICB0aGlzLiRtYXJrZXJzLnB1c2gobWFya2VyKTsKICAgIH0pOwogIH0sCiAgZGF0YTogKCkgPT4gewogICAgICByZXR1cm4gewogICAgICAgIGxhdGl0dWRlOiAzNy4zMjM4NTQ4LAogICAgICAgIGxvbmdpdHVkZTogMTI3LjEzNjU2OTkwMDAwMDAxLAogICAgICAgIHpvb206IDE0LAogICAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdE1hcCgpIHsKICAgICAgaWYobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7CiAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigKICAgICAgICAgIChwb3NpdGlvbikgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTsKICAgICAgICAgICAgY29uc3QgcG9zID0gewogICAgICAgICAgICAgIGxhdDogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLAogICAgICAgICAgICAgIGxuZzogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgLy8gaW5mb1dpbmRvdy5zZXRQb3NpdGlvbihwb3MpOwogICAgICAgICAgICAvLyBpbmZvV2luZG93LnNldENvbnRlbnQoIkxvY2F0aW9uIGZvdW5kLiIpOwogICAgICAgICAgICAvLyBpbmZvV2luZG93Lm9wZW4obWFwKTsKICAgICAgICAgICAgdGhpcy5sYXRpdHVkZSA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTsKICAgICAgICAgICAgdGhpcy5sb25naXR1ZGUgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhsYXRpdHVkZSwgbG9uZ2l0dWRlKTsKICAgICAgICAgIH0sCiAgICAgICAgKTsKCiAgICAgICAgdGhpcy4kbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHsKICAgICAgICAgIGNlbnRlcjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyh0aGlzLmxhdGl0dWRlLCB0aGlzLmxvbmdpdHVkZSksCiAgICAgICAgICB6b29tOiB0aGlzLnpvb20KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBHZW9sb2NhdGlvbgogICAgICAgIC8vIGhhbmRsZUxvY2F0aW9uRXJyb3IoZmFsc2UsIGluZm9XaW5kb3csIG1hcC5nZXRDZW50ZXIoKSk7CiAgICAgIH0KICAgIH0sCiAgICBtYWtlTWFya2VyKGxhdGl0dWRlLCBsb25naXR1ZGUpIHsKICAgICAgcmV0dXJuIG5ldyBnb29nbGUubWFwcy5NYXJrZXIoewogICAgICAgIHBvc2l0aW9uOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdGl0dWRlLCBsb25naXR1ZGUpLAogICAgICAgIGljb246IG51bGwsCiAgICAgICAgbWFwOiB0aGlzLiRtYXAsCiAgICAgICAgdGl0bGU6IG51bGwsCiAgICAgIH0pOwogICAgfSwKICAgIGNsZWFyTWFya2VycygpewogICAgICBmb3IoIGxldCBpID0gMDsgaSA8IHRoaXMuJG1hcmtlcnMubGVuZ3RoOyBpKysgKXsKICAgICAgICB0aGlzLiRtYXJrZXJzW2ldLnNldE1hcChudWxsKTsKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["records.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"records.vue","sourceRoot":"src/views/app/runnings","sourcesContent":["<template>\r\n  <div>\r\n      <h1>Map is here</h1>\r\n      <div id=\"map\" class=\"h-250\"></div>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n    #map {\r\n        margin: 0 auto;\r\n        background: gray;\r\n    }\r\n    .h-250 {\r\n        height:250px;\r\n    }\r\n</style>\r\n<script>\r\n  import Vue from 'vue';\r\n  export default {\r\n    mounted() {\r\n      this.$markers = [];\r\n      this.$map = new google.maps.Map(document.getElementById('map'), {\r\n        center: new google.maps.LatLng(this.latitude, this.longitude),\r\n        zoom: this.zoom\r\n      });\r\n      this.initMap();\r\n      Vue.nextTick().then(()=>{\r\n        this.clearMarkers();\r\n      });\r\n    },\r\n    created(){\r\n      EventBus.$on('clear-markers', ()=>{\r\n        this.clearMarkers();\r\n        this.$markers = [];\r\n      });\r\n      EventBus.$on('add-marker', (data)=>{\r\n        let marker = this.makeMarker(data.latitude, data.longitude);\r\n        this.$markers.push(marker);\r\n      });\r\n    },\r\n    data: () => {\r\n        return {\r\n          latitude: 37.3238548,\r\n          longitude: 127.13656990000001,\r\n          zoom: 14,\r\n        };\r\n    },\r\n    methods: {\r\n      initMap() {\r\n        if(navigator.geolocation) {\r\n          navigator.geolocation.getCurrentPosition(\r\n            (position) => {\r\n              console.log(position.coords.latitude);\r\n              console.log(position.coords.longitude);\r\n              const pos = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude,\r\n              };\r\n              // infoWindow.setPosition(pos);\r\n              // infoWindow.setContent(\"Location found.\");\r\n              // infoWindow.open(map);\r\n              this.latitude = position.coords.latitude;\r\n              this.longitude = position.coords.longitude;\r\n              // console.log(latitude, longitude);\r\n            },\r\n          );\r\n\r\n          this.$map = new google.maps.Map(document.getElementById('map'), {\r\n            center: new google.maps.LatLng(this.latitude, this.longitude),\r\n            zoom: this.zoom\r\n          });\r\n        } else {\r\n          // Browser doesn't support Geolocation\r\n          // handleLocationError(false, infoWindow, map.getCenter());\r\n        }\r\n      },\r\n      makeMarker(latitude, longitude) {\r\n        return new google.maps.Marker({\r\n          position: new google.maps.LatLng(latitude, longitude),\r\n          icon: null,\r\n          map: this.$map,\r\n          title: null,\r\n        });\r\n      },\r\n      clearMarkers(){\r\n        for( let i = 0; i < this.$markers.length; i++ ){\r\n          this.$markers[i].setMap(null);\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n"]}]}