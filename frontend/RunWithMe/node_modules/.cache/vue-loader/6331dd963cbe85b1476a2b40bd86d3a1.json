{"remainingRequest":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\src\\views\\app\\runnings\\records.vue?vue&type=style&index=0&id=1a18e08f&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\src\\views\\app\\runnings\\records.vue","mtime":1602739030532},{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\SSAFY_third\\s03p31a303\\frontend\\RunWithMe\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCiNtYXAgewogICAgbWFyZ2luOiAwIGF1dG87CiAgICBiYWNrZ3JvdW5kOiBncmF5Owp9Ci5oLTI1MCB7CiAgICBoZWlnaHQ6MjUwcHg7Cn0K"},{"version":3,"sources":["records.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA","file":"records.vue","sourceRoot":"src/views/app/runnings","sourcesContent":["<template>\r\n  <div>\r\n      <h1>Map is here</h1>\r\n      <div id=\"map\" class=\"h-250\"></div>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n    #map {\r\n        margin: 0 auto;\r\n        background: gray;\r\n    }\r\n    .h-250 {\r\n        height:250px;\r\n    }\r\n</style>\r\n<script>\r\n  import Vue from 'vue';\r\n  export default {\r\n    mounted() {\r\n      this.$markers = [];\r\n      this.$map = new google.maps.Map(document.getElementById('map'), {\r\n        center: new google.maps.LatLng(this.latitude, this.longitude),\r\n        zoom: this.zoom\r\n      });\r\n      this.initMap();\r\n      Vue.nextTick().then(()=>{\r\n        this.clearMarkers();\r\n      });\r\n    },\r\n    created(){\r\n      EventBus.$on('clear-markers', ()=>{\r\n        this.clearMarkers();\r\n        this.$markers = [];\r\n      });\r\n      EventBus.$on('add-marker', (data)=>{\r\n        let marker = this.makeMarker(data.latitude, data.longitude);\r\n        this.$markers.push(marker);\r\n      });\r\n    },\r\n    data: () => {\r\n        return {\r\n          latitude: 37.3238548,\r\n          longitude: 127.13656990000001,\r\n          zoom: 14,\r\n        };\r\n    },\r\n    methods: {\r\n      initMap() {\r\n        if(navigator.geolocation) {\r\n          navigator.geolocation.getCurrentPosition(\r\n            (position) => {\r\n              console.log(position.coords.latitude);\r\n              console.log(position.coords.longitude);\r\n              const pos = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude,\r\n              };\r\n              // infoWindow.setPosition(pos);\r\n              // infoWindow.setContent(\"Location found.\");\r\n              // infoWindow.open(map);\r\n              this.latitude = position.coords.latitude;\r\n              this.longitude = position.coords.longitude;\r\n              // console.log(latitude, longitude);\r\n            },\r\n          );\r\n\r\n          this.$map = new google.maps.Map(document.getElementById('map'), {\r\n            center: new google.maps.LatLng(this.latitude, this.longitude),\r\n            zoom: this.zoom\r\n          });\r\n        } else {\r\n          // Browser doesn't support Geolocation\r\n          // handleLocationError(false, infoWindow, map.getCenter());\r\n        }\r\n      },\r\n      makeMarker(latitude, longitude) {\r\n        return new google.maps.Marker({\r\n          position: new google.maps.LatLng(latitude, longitude),\r\n          icon: null,\r\n          map: this.$map,\r\n          title: null,\r\n        });\r\n      },\r\n      clearMarkers(){\r\n        for( let i = 0; i < this.$markers.length; i++ ){\r\n          this.$markers[i].setMap(null);\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n"]}]}